<%= render partial: 'shared/challenges/masthead', locals: { challenge: @challenge, challenge_rounds: @challenge_rounds, vote: nil, follow: nil } %>
<section class="section-p-md">
  <div class="container-fluid">

<!--- existing problems --->
<div class="mb-5">
  <h4>Current Problem</h4>
  <form method="post">
    <ul class="list-group list-group-flush-px-0 list-group-teams mb-3">
    <% @challenge.challenge_problems.each do |cp| %>
    <% if cp.persisted? %>
      <% problem = Challenge.find(cp.problem_id) %>
      <li class="list-group-item">
        <div>
          <a class="text-link" href="<%= challenge_path(problem) %>"><%= problem.challenge %></a>
          <span><%= problem.slug %> 
          (<span>Weight&nbsp;</span><input value="<%= cp.weight || 0.2 %>" name="data[<%=cp.problem_id%>][weight]">)</span>
        </div>
        <button name="delete[<%=cp.problem_id%>]" type="submit" class="btn btn-secondary">Remove</button>
      </li>
      <% end %>
    <% end %>
    </ul>
    <button name="update" type="submit" class="btn btn-primary">Update</button>
  </form>
</div>

<!--- add problem --->
<h4>Add Problem</h4>
<%= render partial: 'form' %>

</div>
</section>
