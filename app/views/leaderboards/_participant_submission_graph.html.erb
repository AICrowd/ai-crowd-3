<% submissions = challenge.meta_challenge? ? submitter.meta_challenge_submissions(challenge) : submitter.challenge_submissions(challenge) %>
<%
submissions_group_by_day = submissions.group_by_created_at
if !submissions_group_by_day.include?(@current_round.start_dttm.to_date)
  submissions_group_by_day[@current_round.start_dttm.to_date] = 0
end

graph_end_time = [Time.now.to_date, @current_round.end_dttm.to_date].min
if !submissions_group_by_day.include?(graph_end_time)
  submissions_group_by_day[graph_end_time] = 0
end
%>
<%= line_chart submissions_group_by_day, curve: false, width: width, height: "50px", library: { scales: { yAxes: [{gridLines: { display: false }, ticks: { display: false } }], xAxes: [{ gridLines: { display: false }, ticks: { display: false } }]} }, points: submissions_group_by_day.count == 1, id: "chart-#{id}", dataset: { tooltip: { z: 100 } } %>
